<ion-content [fullscreen]="true">
  <div style="height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px;">
    <ion-card style="max-width: 400px; width: 100%; --background: rgba(255, 255, 255, 0.95);">
      <ion-card-content style="padding: 32px;">
        <!-- Logo -->
        <div style="text-align: center; margin-bottom: 32px;">
          <ion-icon name="musical-notes" style="font-size: 64px; color: #667eea;"></ion-icon>
          <h1 style="margin: 16px 0 8px; font-size: 32px; font-weight: 700; color: #333;">Metr贸nomo</h1>
          <p style="color: #666; margin: 0;">Sincroniza el tempo de tu banda</p>
        </div>

        <!-- Error message -->
        @if (errorMessage()) {
          <div style="background: #fee; border-left: 4px solid #f44; padding: 12px; margin-bottom: 20px; border-radius: 4px;">
            <ion-text color="danger">
              <p style="margin: 0; color: #c33;">{{ errorMessage() }}</p>
            </ion-text>
          </div>
        }

        <!-- Formulario -->
        <form (ngSubmit)="onLogin()">
          <!-- Nombre -->
          <ion-item lines="none" style="--background: #f5f5f5; --border-radius: 8px; margin-bottom: 20px;">
            <ion-label position="floating">Tu Nombre</ion-label>
            <ion-input
              type="text"
              [(ngModel)]="name"
              name="name"
              [disabled]="isLoading()"
              required>
            </ion-input>
          </ion-item>

          <!-- Rol -->
          <div style="margin-bottom: 24px;">
            <ion-label style="display: block; margin-bottom: 12px; font-weight: 600; color: #333;">Selecciona tu rol</ion-label>
            <ion-radio-group [value]="selectedRole()" (ionChange)="selectRole($event.detail.value)">
              <ion-item lines="none" style="--background: #f5f5f5; --border-radius: 8px; margin-bottom: 8px; cursor: pointer;">
                <ion-icon name="person" slot="start" style="color: #667eea;"></ion-icon>
                <ion-label>
                  <h2 style="font-weight: 600;">Maestro</h2>
                  <p style="font-size: 14px; color: #666;">Controlar el metr贸nomo</p>
                </ion-label>
                <ion-radio slot="end" [value]="UserRole.MASTER"></ion-radio>
              </ion-item>

              <ion-item lines="none" style="--background: #f5f5f5; --border-radius: 8px; margin-bottom: 8px; cursor: pointer;">
                <ion-icon name="people" slot="start" style="color: #667eea;"></ion-icon>
                <ion-label>
                  <h2 style="font-weight: 600;">Seguidor</h2>
                  <p style="font-size: 14px; color: #666;">Escuchar el metr贸nomo</p>
                </ion-label>
                <ion-radio slot="end" [value]="UserRole.FOLLOWER"></ion-radio>
              </ion-item>

              <ion-item lines="none" style="--background: #f5f5f5; --border-radius: 8px; cursor: pointer;">
                <ion-icon name="settings" slot="start" style="color: #667eea;"></ion-icon>
                <ion-label>
                  <h2 style="font-weight: 600;">Admin</h2>
                  <p style="font-size: 14px; color: #666;">Gestionar presets</p>
                </ion-label>
                <ion-radio slot="end" [value]="UserRole.ADMIN"></ion-radio>
              </ion-item>
            </ion-radio-group>
          </div>

          <!-- Bot贸n de submit -->
          <ion-button
            expand="block"
            type="submit"
            [disabled]="isLoading()"
            style="--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 56px; font-size: 18px; font-weight: 600;">
            @if (isLoading()) {
              <ion-spinner name="crescent" style="margin-right: 8px;"></ion-spinner>
              Conectando...
            } @else {
              Conectar
            }
          </ion-button>
        </form>

        <!-- Info footer -->
        <div style="text-align: center; margin-top: 24px; padding-top: 24px; border-top: 1px solid #e0e0e0;">
          <p style="color: #999; font-size: 14px; margin: 0;">
            Conecta y sincroniza el tempo perfectamente
          </p>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
