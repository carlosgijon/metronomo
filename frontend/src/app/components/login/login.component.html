<div class="center-content mobile-spacing">
  <nz-card style="max-width: 500px; width: 100%;">
    <div style="text-align: center; margin-bottom: 32px;">
      <span nz-icon nzType="sound" nzTheme="twotone" style="font-size: 48px;"></span>
      <h1 style="font-size: 28px; font-weight: 700; margin: 16px 0 8px; color: #1890ff;">
        Metrónomo Sincronizado
      </h1>
      <p style="color: rgba(0, 0, 0, 0.45);">Sincroniza el tempo de tu banda</p>
    </div>

    @if (errorMessage()) {
      <nz-alert
        nzType="error"
        [nzMessage]="errorMessage()"
        nzShowIcon
        nzCloseable
        (nzOnClose)="errorMessage.set('')"
        style="margin-bottom: 24px;">
      </nz-alert>
    }

    <form nz-form (ngSubmit)="onLogin()">
      <nz-form-item>
        <nz-form-label nzRequired>Nombre</nz-form-label>
        <nz-form-control nzErrorTip="Por favor ingresa tu nombre">
          <input
            nz-input
            type="text"
            placeholder="Tu nombre"
            [(ngModel)]="name"
            name="name"
            [disabled]="isLoading()"
            required
            style="height: 48px; font-size: 16px;" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>Selecciona tu rol</nz-form-label>
        <nz-form-control>
          <nz-radio-group
            [(ngModel)]="selectedRole"
            name="role"
            style="width: 100%;">
            <div style="display: grid; grid-template-columns: 1fr; gap: 12px;">
              <label
                nz-radio
                [nzValue]="UserRole.MASTER"
                style="
                  display: flex;
                  align-items: center;
                  padding: 16px;
                  border: 2px solid #d9d9d9;
                  border-radius: 8px;
                  transition: all 0.3s;
                  cursor: pointer;
                  margin: 0;"
                [style.border-color]="selectedRole() === UserRole.MASTER ? '#1890ff' : '#d9d9d9'"
                [style.background]="selectedRole() === UserRole.MASTER ? '#e6f7ff' : 'white'">
                <span style="margin-left: 12px; font-size: 16px; font-weight: 500;">
                  <span nz-icon nzType="control" nzTheme="outline" style="margin-right: 8px;"></span>
                  Maestro
                </span>
                <span style="margin-left: auto; color: rgba(0,0,0,0.45); font-size: 14px;">Controlar metrónomo</span>
              </label>

              <label
                nz-radio
                [nzValue]="UserRole.FOLLOWER"
                style="
                  display: flex;
                  align-items: center;
                  padding: 16px;
                  border: 2px solid #d9d9d9;
                  border-radius: 8px;
                  transition: all 0.3s;
                  cursor: pointer;
                  margin: 0;"
                [style.border-color]="selectedRole() === UserRole.FOLLOWER ? '#1890ff' : '#d9d9d9'"
                [style.background]="selectedRole() === UserRole.FOLLOWER ? '#e6f7ff' : 'white'">
                <span style="margin-left: 12px; font-size: 16px; font-weight: 500;">
                  <span nz-icon nzType="team" nzTheme="outline" style="margin-right: 8px;"></span>
                  Seguidor
                </span>
                <span style="margin-left: auto; color: rgba(0,0,0,0.45); font-size: 14px;">Escuchar metrónomo</span>
              </label>

              <label
                nz-radio
                [nzValue]="UserRole.ADMIN"
                style="
                  display: flex;
                  align-items: center;
                  padding: 16px;
                  border: 2px solid #d9d9d9;
                  border-radius: 8px;
                  transition: all 0.3s;
                  cursor: pointer;
                  margin: 0;"
                [style.border-color]="selectedRole() === UserRole.ADMIN ? '#1890ff' : '#d9d9d9'"
                [style.background]="selectedRole() === UserRole.ADMIN ? '#e6f7ff' : 'white'">
                <span style="margin-left: 12px; font-size: 16px; font-weight: 500;">
                  <span nz-icon nzType="setting" nzTheme="outline" style="margin-right: 8px;"></span>
                  Admin
                </span>
                <span style="margin-left: auto; color: rgba(0,0,0,0.45); font-size: 14px;">Gestionar presets</span>
              </label>
            </div>
          </nz-radio-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item style="margin-bottom: 0;">
        <button
          nz-button
          nzType="primary"
          nzSize="large"
          nzBlock
          type="submit"
          [nzLoading]="isLoading()"
          class="main-control-btn">
          <span nz-icon nzType="thunderbolt" nzTheme="outline"></span>
          Conectar
        </button>
      </nz-form-item>
    </form>

    <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid #f0f0f0; text-align: center;">
      <p style="color: rgba(0, 0, 0, 0.45); font-size: 14px; margin: 0;">
        <span nz-icon nzType="info-circle" nzTheme="outline"></span>
        Conecta y sincroniza el tempo perfectamente con tu banda
      </p>
    </div>
  </nz-card>
</div>
